{
  "version": "1",
  "metadata": {
    "name": "crazy-gary",
    "description": "Heavy-powered autonomous agentic AI system"
  },
  "build": {
    "provider": "python",
    "steps": {
      "install": {
        "commands": [
          "echo 'üîß Installing Python dependencies...'",
          "pip install --upgrade pip",
          "pip install -r requirements.txt",
          "echo '‚úÖ Python dependencies installed'"
        ]
      },
      "build": {
        "commands": [
          "echo 'üé® Building frontend...'",
          "./build_frontend.sh",
          "echo '‚úÖ Frontend build completed'",
          "echo 'üìÅ Verifying build output...'",
          "ls -la apps/api/src/static/ || echo 'No static directory found'",
          "echo 'üîß Build process completed'"
        ]
      }
    }
  },
  "deploy": {
    "startCommand": "cd apps/api && hypercorn --bind 0.0.0.0:$PORT --workers 2 --access-logfile - --error-logfile - src.main:app",
    "healthCheckPath": "/api/health",
    "healthCheckTimeout": 300,
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 3
  },
  "env": {
    "NODE_ENV": "production",
    "ENVIRONMENT": "production",
    "SERVE_FRONTEND": "true",
    "HOST": "0.0.0.0"
  }
}